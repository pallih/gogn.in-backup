function gchart_draw_all(){if(!window.gcharts){return}for(var a in window.gcharts){gchart_draw(a)}}function gchart_draw(m){var c,b,l,g,f,d,k,a,p,o,n,h,e;c=window.gcharts[m];b=document.getElementById(m);l=new google.visualization.DataTable();for(f=0,k=c.series.length;f<k;f++){l.addColumn(c.series[f])}for(f=0,a=c.data.length;f<a;f++){p=[];for(d=0;d<k;d++){p.push(gchart_format(c.series[d].type,c.data[f][d]))}l.addRow(p)}switch(c.type){case"pie":g=new google.visualization.DataView(l);g.setColumns([{calc:function(i,j){return i.getFormattedValue(j,0)},type:"string"},1]);break;case"column":case"bar":g=new google.visualization.DataView(l);o=[{calc:function(i,j){return i.getFormattedValue(j,0)},type:"string"}];for(f=1;f<k;f++){o.push(f)}g.setColumns(o);break;case"scatter":g=new google.visualization.DataView(l);o=[];for(f=0;f<k;f++){o.push((function(i){return{calc:function(j,r){var q=jQuery.trim(j.getValue(r,i));return q==""?null:parseFloat(q)},type:"number",label:l.getColumnLabel(i)}})(f))}g.setColumns(o);break;default:g=l;break}h=null;n={title:c.options.title||"",width:c.options.width||"auto",height:c.options.height||"auto",fontName:c.options.font_name||"Arial",fontSize:c.options.font_size||"automatic",backgroundColor:{fill:c.options.background_color||"white",stroke:c.options.stroke_color||"#666",strokeWidth:c.options.stroke_width||0},chartArea:{left:c.options.chart_area_left||"auto",top:c.options.chart_area_top||"auto",width:c.options.chart_area_width||"auto",height:c.options.chart_area_height||"auto"},legend:{position:c.options.legend_position||"right"}};switch(c.type){case"pie":h=new google.visualization.PieChart(b);n.is3D=c.options.is_3d=="1"?true:false;n.reverseCategories=c.options.reverse=="1"?true:false;n.pieSliceBorderColor=c.options.slice_border_color||"white";n.pieSliceText=c.options.slice_text||"percentage";n.sliceVisibilityThreshold=parseFloat(c.options.visibility_threshold)||1/720;n.pieResidueSliceColor=c.options.residue_slice_color||"white";if(jQuery.trim(c.options.residue_slice_label)==""){n.pieResidueSliceLabel="Other"}else{n.pieResidueSliceLabel=c.options.residue_slice_label}break;case"line":h=new google.visualization.LineChart(b);n.axisTitlesPosition=c.options.axis_titles_position||"out";n.curveType=c.options.curve_type||"none";n.lineWidth=c.options.line_width||2;n.pointSize=c.options.point_size||0;n.hAxis={title:c.options.xaxis_title||"",textPosition:c.options.xtext_position||"out",baselineColor:c.options.xbaseline_color||"black",gridlines:{color:c.options.xgridlines_color||"#CCC",count:c.options.xgridlines_count||"5"}};n.vAxis={title:c.options.yaxis_title||"",textPosition:c.options.ytext_position||"out",baselineColor:c.options.ybaseline_color||"black",gridlines:{color:c.options.ygridlines_color||"#CCC",count:c.options.ygridlines_count||"5"}};n.series={};for(f=1;f<k;f++){e={};if(c.options["series_"+f+"_curve_type"]){e.curveType=c.options["series_"+f+"_curve_type"]}if(c.options["series_"+f+"_line_width"]){e.lineWidth=c.options["series_"+f+"_line_width"]}if(c.options["series_"+f+"_point_size"]){e.pointSize=c.options["series_"+f+"_point_size"]}if(c.options["series_"+f+"_color"]){e.color=c.options["series_"+f+"_color"]}if(c.options["series_"+f+"_visible_in_legend"]){e.visibleInLegend=c.options["series_"+f+"_visible_in_legend"]}n.series[f-1]=e}break;case"bar":h=new google.visualization.BarChart(b);n.axisTitlesPosition=c.options.axis_titles_position||"out";n.isStacked=c.options.is_stacked=="1"?true:false;n.hAxis={title:c.options.xaxis_title||"",textPosition:c.options.xtext_position||"out",baselineColor:c.options.xbaseline_color||"black",gridlines:{color:c.options.xgridlines_color||"#CCC",count:c.options.xgridlines_count||"5"}};n.vAxis={title:c.options.yaxis_title||"",textPosition:c.options.ytext_position||"out"};n.series={};for(f=1;f<k;f++){e={};if(c.options["series_"+f+"_color"]){e.color=c.options["series_"+f+"_color"]}if(c.options["series_"+f+"_visible_in_legend"]){e.visibleInLegend=c.options["series_"+f+"_visible_in_legend"]}n.series[f-1]=e}break;case"column":h=new google.visualization.ColumnChart(b);n.axisTitlesPosition=c.options.axis_titles_position||"out";n.isStacked=c.options.is_stacked=="1"?true:false;n.hAxis={title:c.options.xaxis_title||"",textPosition:c.options.xtext_position||"out"};n.vAxis={title:c.options.yaxis_title||"",textPosition:c.options.ytext_position||"out",baselineColor:c.options.ybaseline_color||"black",gridlines:{color:c.options.ygridlines_color||"#CCC",count:c.options.ygridlines_count||"5"}};n.series={};for(f=1;f<k;f++){e={};if(c.options["series_"+f+"_color"]){e.color=c.options["series_"+f+"_color"]}if(c.options["series_"+f+"_visible_in_legend"]){e.visibleInLegend=c.options["series_"+f+"_visible_in_legend"]}n.series[f-1]=e}break;case"area":h=new google.visualization.AreaChart(b);n.axisTitlesPosition=c.options.axis_titles_position||"out";n.isStacked=c.options.is_stacked=="1"?true:false;n.lineWidth=c.options.line_width||2;n.pointSize=c.options.point_size||0;n.areaOpacity=c.options.area_opacity||0.3;n.hAxis={title:c.options.xaxis_title||"",textPosition:c.options.xtext_position||"out",baselineColor:c.options.xbaseline_color||"black",gridlines:{color:c.options.xgridlines_color||"#CCC",count:c.options.xgridlines_count||"5"}};n.vAxis={title:c.options.yaxis_title||"",textPosition:c.options.ytext_position||"out",baselineColor:c.options.ybaseline_color||"black",gridlines:{color:c.options.ygridlines_color||"#CCC",count:c.options.ygridlines_count||"5"}};n.series={};for(f=1;f<k;f++){e={};if(c.options["series_"+f+"_area_opacity"]){e.areaOpacity=c.options["series_"+f+"_area_opacity"]}if(c.options["series_"+f+"_line_width"]){e.lineWidth=c.options["series_"+f+"_line_width"]}if(c.options["series_"+f+"_point_size"]){e.pointSize=c.options["series_"+f+"_point_size"]}if(c.options["series_"+f+"_color"]){e.color=c.options["series_"+f+"_color"]}if(c.options["series_"+f+"_visible_in_legend"]){e.visibleInLegend=c.options["series_"+f+"_visible_in_legend"]}n.series[f-1]=e}break;case"geo":h=new google.visualization.GeoChart(b);n.region=c.options.region||"world";n.displayMode=c.options.display_mode||"auto";n.datalessRegionColor=c.options.dataless_region_color||"F5F5F5";n.keepAspectRatio=c.options.keep_aspect_ratio=="1"?true:false;n.resolution=c.options.resolution||"countries";break;case"scatter":h=new google.visualization.ScatterChart(b);n.axisTitlesPosition=c.options.axis_titles_position||"out";n.curveType=c.options.curve_type||"none";n.lineWidth=c.options.line_width||0;n.pointSize=c.options.point_size||7;n.hAxis={title:c.options.xaxis_title||"",textPosition:c.options.xtext_position||"out",baselineColor:c.options.xbaseline_color||"black",gridlines:{color:c.options.xgridlines_color||"#CCC",count:c.options.xgridlines_count||"5"}};n.vAxis={title:c.options.yaxis_title||"",textPosition:c.options.ytext_position||"out",baselineColor:c.options.ybaseline_color||"black",gridlines:{color:c.options.ygridlines_color||"#CCC",count:c.options.ygridlines_count||"5"}};break;case"gauge":h=new google.visualization.Gauge(b);n.min=c.options.min||0;n.max=c.options.max||100;n.greenColor=c.options.green_color||"#109618";n.greenFrom=c.options.green_from||"";n.greenTo=c.options.green_to||"";n.yellowColor=c.options.yellow_color||"#109618";n.yellowFrom=c.options.yellow_from||"";n.yellowTo=c.options.yellow_to||"";n.redColor=c.options.red_color||"#109618";n.redFrom=c.options.red_from||"";n.redTo=c.options.red_to||"";break;case"candlestick":h=new google.visualization.CandlestickChart(b);n.axisTitlesPosition=c.options.axis_titles_position||"out";n.hAxis={title:c.options.xaxis_title||"",textPosition:c.options.xtext_position||"out"};n.vAxis={title:c.options.yaxis_title||"",textPosition:c.options.ytext_position||"out",baselineColor:c.options.ybaseline_color||"black",gridlines:{color:c.options.ygridlines_color||"#CCC",count:c.options.ygridlines_count||"5"}};break;default:return}if(h){h.draw(g,n)}}function gchart_format(d,e){var b,c,a;switch(d){case"boolean":return e?true:false;case"number":c=parseFloat(e);a=parseInt(e);return a==c?a:c;case"date":case"datetime":b=new Date(e);if(Object.prototype.toString.call(b)==="[object Date]"){if(isNaN(b.getTime())){return null}}else{return null}return b;case"timeofday":b=new Date("16 Mar 1984 "+e);if(Object.prototype.toString.call(b)==="[object Date]"){if(isNaN(b.getTime())){return null}}else{return null}return[b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()]}return e}(function(c,b){var a;b.load("visualization","1",{packages:["corechart","geochart","gauge"]});b.setOnLoadCallback(gchart_draw_all);c(document).ready(function(){c(window).resize(function(){clearTimeout(a);a=setTimeout(gchart_draw_all,100)})})})(jQuery.noConflict(),google);